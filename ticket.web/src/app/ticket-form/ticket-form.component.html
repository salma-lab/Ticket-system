<div class="container mt-5">
  <h2 class="mb-4">Add New Ticket</h2>

  <form (ngSubmit)="saveTicket()" #ticketForm="ngForm" novalidate>
    
    <!-- ID Field -->
    <div class="form-group">
      <label for="ticketId" class="form-label">Ticket ID:</label>
      <input
        type="number"
        id="ticketId"
        class="form-control"
        [(ngModel)]="ticket.ticketId"
        name="ticketId"
        required
        #ticketId="ngModel"
        [ngClass]="{ 'is-invalid': ticketId.invalid && (ticketForm.submitted) }"
      />
      <div *ngIf="ticketId.invalid && (ticketForm.submitted)" class="invalid-feedback">
        Please provide a unique Ticket ID.
      </div>
    </div>

    <!-- Description Field -->
    <div class="form-group">
      <label for="description" class="form-label">Description:</label>
      <input
        type="text"
        id="description"
        class="form-control"
        [(ngModel)]="ticket.description"
        name="description"
        placeholder="Enter ticket description"
        required
        #description="ngModel"
        [ngClass]="{ 'is-invalid': description.invalid && (description.touched || ticketForm.submitted) }"
      />
      <div *ngIf="description.invalid && (description.touched || ticketForm.submitted)" class="invalid-feedback">
        Please provide a description.
      </div>
    </div>

    <!-- Status Field -->
    <div class="form-group">
      <label for="status" class="form-label">Status:</label>
      <select
        id="status"
        class="form-control"
        [(ngModel)]="ticket.status"
        name="status"
        required
        #status="ngModel"
        [ngClass]="{ 'is-invalid': status.invalid && (status.touched || ticketForm.submitted) }"
      >
        <option value="" disabled selected>Select status</option>
        <option value="Open">Open</option>
        <option value="Closed">Closed</option>
      </select>
      <div *ngIf="status.invalid && (status.touched || ticketForm.submitted)" class="invalid-feedback">
        Please select a status.
      </div>
    </div>

    <!-- Date Field -->
    <div class="form-group">
      <label for="date" class="form-label">Date:</label>
      <input
        type="datetime-local"
        id="date"
        class="form-control"
        [(ngModel)]="ticket.date"
        name="date"
        required
        #date="ngModel"
        [ngClass]="{ 'is-invalid': date.invalid && (date.touched || ticketForm.submitted) }"
      />
      <div *ngIf="date.invalid && (date.touched || ticketForm.submitted)" class="invalid-feedback">
        Please choose a date.
      </div>
    </div>

    <!-- Submit Button - Disabled if form is invalid -->
    <button type="submit" class="btn btn-success mt-3" [disabled]="ticketForm.invalid">Add Ticket</button>
  </form>
</div>
